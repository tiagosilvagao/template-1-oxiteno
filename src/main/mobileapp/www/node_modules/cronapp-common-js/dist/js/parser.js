(function(){var ISO_PATTERN=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,TIME_PATTERN=/^PT(?:(\d\d?)H)?(?:(\d\d?)M)?(?:(\d\d?)(?:\.(\d\d?\d?)?)?S)?$/;window.stringToJs=function(a){var b="";if(a!=null&&null!=a){a=a.toString();for(var d,e=0;e<a.length;e++)d=a.charAt(e),"\\"==d?b+="\\\\":"'"==d?b+="\\'":"\""==d?b+="\\\"":"\n"==d?b+="\\n":"\r"==d||(b+=d)}return b},window.objToOData=function(a){if(null==a||a==null)return"null";return"number"==typeof a||"boolean"==typeof a?a+"":a instanceof Date?"datetimeoffset'"+a.toISOString()+"'":"'"+a+"'"},window.oDataToObj=function(a,b){if((null==b||null==b)&&(b=!0),"string"==typeof a){if(10<=a.length&&a.match(ISO_PATTERN)&&100>a.length)return new Date(a);if(4<=a.length&&a.match(TIME_PATTERN)&&100>a.length)try{var c=moment().utcOffset(window.systemTimeZoneOffset,!0),d=TIME_PATTERN.exec(a);return c=c.hour(d[1]).minute(d[2]).second(d[3]).year(1970).dayOfYear(1).month(0),c.toDate()}catch(b){return a}else{if(10<=a.length&&"/Date("==a.substring(0,6)&&")/"==a.substring(a.length-2,a.length)){var e=a.substring(6,a.length-2);return new Date(parseInt(e))}if(20<=a.length&&"datetime'"==a.substring(0,9)&&"'"==a.substring(a.length-1,a.length)){var e=a.substring(9,a.length-1);return new Date(e)}if(20<=a.length&&"datetimeoffset'"==a.substring(0,15)&&"'"==a.substring(a.length-1,a.length)){var e=a.substring(15,a.length-1);return new Date(e)}if(b){if(2<=a.length&&("'"==a.charAt(0)&&"'"==a.charAt(a.length-1)||"\""==a.charAt(0)&&"\""==a.charAt(a.length-1))){var e=a.substring(1,a.length-1);return e}if("true"==a||"false"==a)return"true"==a;if("null"==a)return null;if(""!=a)return parseFloat(a)}}}return a},window.parseXml=function(a){var b=null;if(window.DOMParser)try{b=new DOMParser().parseFromString(a,"text/xml")}catch(a){b=null}else if(window.ActiveXObject)try{b=new ActiveXObject("Microsoft.XMLDOM"),b.async=!1,b.loadXML(a)||console.log(b.parseError.reason+b.parseError.srcText)}catch(a){b=null}return b},window.xml2json=function(a,b){var c={toObj:function(a){var b={};if(1==a.nodeType){if(a.attributes.length)for(var d=0;d<a.attributes.length;d++)b["@"+a.attributes[d].nodeName]=(a.attributes[d].nodeValue||"").toString();if(a.firstChild){for(var e=0,f=0,g=!1,h=a.firstChild;h;h=h.nextSibling)1==h.nodeType?g=!0:3==h.nodeType&&h.nodeValue.match(/[^ \f\n\r\t\v]/)?e++:4==h.nodeType&&f++;if(g){if(2>e&&2>f){c.removeWhite(a);for(var h=a.firstChild;h;h=h.nextSibling)3==h.nodeType?b["#text"]=c.escape(h.nodeValue):4==h.nodeType?b["#cdata"]=c.escape(h.nodeValue):b[c.normalizeName(h.nodeName)]?b[c.normalizeName(h.nodeName)]instanceof Array?b[c.normalizeName(h.nodeName)][b[c.normalizeName(h.nodeName)].length]=c.toObj(h):b[c.normalizeName(h.nodeName)]=[b[c.normalizeName(h.nodeName)],c.toObj(h)]:b[c.normalizeName(h.nodeName)]=c.toObj(h)}else a.attributes.length?b["#text"]=c.escape(c.innerXml(a)):b=c.escape(c.innerXml(a));}else if(e)a.attributes.length?b["#text"]=c.escape(c.innerXml(a)):b=c.escape(c.innerXml(a));else if(f)if(1<f)b=c.escape(c.innerXml(a));else for(var h=a.firstChild;h;h=h.nextSibling)b["#cdata"]=c.escape(h.nodeValue)}a.attributes.length||a.firstChild||(b=null)}else 9==a.nodeType?b=c.toObj(a.documentElement):console.log("unhandled node type: "+a.nodeType);return b},normalizeName:function(a){if(a&&5<a.length&&0==a.indexOf("cron-")){a=a.substr(5);var b="",c=!1;for(var d in a){var e=a.charAt(d);c&&"-"!=e?(b+=e.toUpperCase(),c=!1):"-"==e?c=!0:b+=e.toLowerCase()}return b}},toJson:function(a,b,d){var e=b?"\""+b+"\"":"";if(a instanceof Array){for(var f=0,g=a.length;f<g;f++)a[f]=c.toJson(a[f],"",d+"\t");e+=(b?":[":"[")+(1<a.length?"\n"+d+"\t"+a.join(",\n"+d+"\t")+"\n"+d:a.join(""))+"]"}else if(null==a)e+=(b&&":")+"null";else if("object"==typeof a){var h=[];for(var j in a)h[h.length]=c.toJson(a[j],j,d+"\t");e+=(b?":{":"{")+(1<h.length?"\n"+d+"\t"+h.join(",\n"+d+"\t")+"\n"+d:h.join(""))+"}"}else if("string"==typeof a){var k=$.trim(a.toString());e+=(b&&":")+"\""+c.htmlDecode(k)+"\""}else e+=(b&&":")+c.htmlDecode($.trim(a.toString()));return e},htmlDecode:function(a){var b=new DOMParser().parseFromString(a,"text/html");return b.documentElement.textContent},innerXml:function(a){var b="";if("innerHTML"in a)b=a.innerHTML;else for(var d=function(a){var b="";if(1==a.nodeType){b+="<"+a.nodeName;for(var e=0;e<a.attributes.length;e++)b+=" "+a.attributes[e].nodeName+"=\""+(a.attributes[e].nodeValue||"").toString()+"\"";if(a.firstChild){b+=">";for(var f=a.firstChild;f;f=f.nextSibling)b+=d(f);b+="</"+a.nodeName+">"}else b+="/>"}else 3==a.nodeType?b+=a.nodeValue:4==a.nodeType&&(b+="<![CDATA["+a.nodeValue+"]]>");return b},e=a.firstChild;e;e=e.nextSibling)b+=d(e);return b},escape:function(a){return a.trim().replace(/[\\]/g,"\\\\").replace(/[\"]/g,"\\\"").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(a){a.normalize();for(var b=a.firstChild;b;)if(!(3==b.nodeType))1==b.nodeType?(c.removeWhite(b),b=b.nextSibling):b=b.nextSibling;else if(!b.nodeValue.match(/[^ \f\n\r\t\v]/)){var d=b.nextSibling;a.removeChild(b),b=d}else b=b.nextSibling;return a}};9==a.nodeType&&(a=a.documentElement);var d=c.toJson(c.toObj(c.removeWhite(a)),a.nodeName,"\t");return"{\n"+b+(b?d.replace(/\t/g,b):d.replace(/\t|\n/g,""))+"\n}"},window.json2xml=function(b,d){var e=b,a=document.createElement(d),g=function(a){return{}.toString.call(a).split(" ")[1].slice(0,-1).toLowerCase()},h=function(a){var b="";for(var c in a){var d=a.charAt(c);0<c&&d==d.toUpperCase()&&(b+="-"),b+=d.toLowerCase()}return"cron-"+b},i=function(b,d,c){if("array"!=g(c)&&"object"!=g(c))"null"!=g(c)&&d.appendChild(document.createTextNode(c));else for(var a in c){var e=c[a];if("__type"==a&&"object"==g(c))d.setAttribute("__type",e);else if("object"==g(e)){var f=d.appendChild(document.createElementNS(null,h(a)));b(b,f,e)}else if("array"==g(e))for(var i in e){var f=d.appendChild(document.createElementNS(null,h(a)));b(b,f,e[i],!0)}else{var j=document.createElementNS(null,h(a));"null"!=g(e)&&("string"==g(e)&&(e=e.trim()),j.appendChild(document.createTextNode(e)));var f=d.appendChild(j)}}};return i(i,a,e,"array"==g(e)),a.outerHTML},window.buildElementOptions=function(a){var b=$(a).closest("[data-component]").find("cron-options"),c=parseXml("<cron-options>"+$(b).html()+"</cron-options>"),d=xml2json(c);return d&&(d=d.slice(1),d=d.substring(0,d.length-1),d=d.trim(),d=d.replace(/undefined"cron-options":/gm,""),d=d.replace(/"undefined"/gm,""),d=d.replace(/"undefined:"/gm,""),d=d.replace(/undefined:/gm,""),d=d.replace(/undefined/gm,""),d=d.replace(/"cron-options":/gm,"")),d},window.objectClone=function(a,b){var c;if(null==a||"object"!=typeof a)return a;if(a instanceof Date)return c=new Date,c.setTime(a.getTime()),c;if(a instanceof Array){c=[];for(var d=0,e=a.length;d<e;d++)c[d]=objectClone(a[d],void 0);return c}var f=function(a,b){if(!b)return!0;for(var c in b)if(a==c)return!0;return!1},g=function(a){return a&&"[object Function]"==={}.toString.call(a)};if(a instanceof Object){for(var h in c={},a)a.hasOwnProperty(h)&&null!=a[h]&&"_"!=h.substr(0,1)&&!g(a[h])&&f(h,b)&&(c[h]=objectClone(a[h],b[h]));return c}throw new Error("Unable to copy obj! Its type isn't supported.")},window.getOperatorODATA=function(a,b,c){if("%"==b)return"substringof("+c+", "+a+")";return"="==b?a+" eq "+c:"!="==b?a+" ne "+c:">"==b?a+" gt "+c:">="==b?a+" ge "+c:"<"==b?a+" lt "+c:"<="==b?a+" le "+c:void 0},window.executeRight=function(right){var result="null";return null!=right&&null!=right&&(right.startsWith(":")||right.startsWith("datetimeoffset'")||right.startsWith("datetime'")?result=right:(result=eval(right),result instanceof Date?result="datetimeoffset'"+result.toISOString()+"'":"string"==typeof result?result="'"+result+"'":(void 0===result||null==result)&&(result="null"))),result},window.parserOdata=function(a){var b="",c=a.type;if(a.args)for(var d=0;d<a.args.length;d++){var e=a.args[d],f=c;0==d&&(f=""),b=e.args&&0<e.args.length?b+" "+f.toLowerCase()+" ( "+parserOdata(e)+" ) ":b+" "+f.toLowerCase()+" "+getOperatorODATA(e.left,e.type,executeRight(e.right))}return b.trim()}})();