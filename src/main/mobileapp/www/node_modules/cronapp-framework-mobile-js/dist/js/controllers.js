(function(){angular.module("custom.controllers",[]),app.controller("HomeController",["$scope","$http","$rootScope","$state","$translate","Notification","ReportService","$ionicModal",function(a,b,c,d,e,f,g,h){for(var i in c.http=b,app.registerEventsCronapi(a,e,h),a.Notification=f,c.getReport=function(a,b){g.openReport(a,b)},app.userEvents)app.userEvents.hasOwnProperty(i)&&(a[i]=app.userEvents[i].bind(a));a.message={};try{var j=$controller("AfterHomeController",{$scope:a});app.copyContext(j,this,"AfterHomeController")}catch(a){}try{a.blockly.events.afterHomeRender&&a.blockly.events.afterHomeRender()}catch(a){}}]),app.controller("chatController",["$scope","$state","$ionicPopup","$ionicScrollDelegate","$timeout","$interval","$ionicModal","$translate","$rootScope","$http","Notification",function(a,b,c,d,f,g,h,i,j,k,l){for(var m in app.registerEventsCronapi(a,i),j.http=k,a.Notification=l,app.userEvents)app.userEvents.hasOwnProperty(m)&&(a[m]=app.userEvents[m].bind(a));var e,n,o,p=d.$getByHandle("userMessageScroll");a.enter=function(){f(function(){e=document.body.querySelector(".homeView .bar-footer"),n=document.body.querySelector(".homeView .scroll-content"),o=angular.element(e.querySelector("textarea"))},0)},a.isEnter=function(a){13===a.keyCode?f(function(){a.stopPropagation(),$("#sendButton").trigger("click")},0):null},a.refreshScroll=function(b,c){f(function(){b=b||a.scrollDown,p.resize(),b&&p.scrollBottom(!0),a.checkScroll()},c||1e3)},a.scrollDown=!0,a.checkScroll=function(){return f(function(){var b=p.getScrollPosition().top,c=p.getScrollView().__maxScrollTop;a.scrollDown=b>=c,a.$apply()},0),!0}}])})(app);